import{af as I,an as Y,P as y,F as j,G as T,B as R,h as P,z as C,N as z,ag as G,b as H,a as $,E as q,ae as K,H as Q,S as J,Q as Z,a1 as D,ay as V,w as W,e as B,y as X,az as A,aA as N,ai as ee,aB as se,aC as te,g,aD as re,ab as L,aE as ae,aF as E,aG as ie,aH as ne,j as fe,ad as ue,a9 as ce,aI as oe,A as le,aJ as de,aK as he,aL as _e,aM as pe,aN as ve,aO as be,aP as F,aQ as p}from"./BVvvFQyP.js";class ge{anchor;#s=new Map;#t=new Map;#e=new Map;#r=new Set;#a=!0;constructor(s,t=!0){this.anchor=s,this.#a=t}#i=()=>{var s=I;if(this.#s.has(s)){var t=this.#s.get(s),e=this.#t.get(t);if(e)Y(e),this.#r.delete(t);else{var a=this.#e.get(t);a&&(this.#t.set(t,a.effect),this.#e.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),e=a.effect)}for(const[i,f]of this.#s){if(this.#s.delete(i),i===s)break;const n=this.#e.get(f);n&&(y(n.effect),this.#e.delete(f))}for(const[i,f]of this.#t){if(i===t||this.#r.has(i))continue;const n=()=>{if(Array.from(this.#s.values()).includes(i)){var o=document.createDocumentFragment();z(f,o),o.append(T()),this.#e.set(i,{effect:f,fragment:o})}else y(f);this.#r.delete(i),this.#t.delete(i)};this.#a||!e?(this.#r.add(i),j(f,n,!1)):n()}}};#n=s=>{this.#s.delete(s);const t=Array.from(this.#s.values());for(const[e,a]of this.#e)t.includes(e)||(y(a.effect),this.#e.delete(e))};ensure(s,t){var e=I,a=G();if(t&&!this.#t.has(s)&&!this.#e.has(s))if(a){var i=document.createDocumentFragment(),f=T();i.append(f),this.#e.set(s,{effect:R(()=>t(f)),fragment:i})}else this.#t.set(s,R(()=>t(this.anchor)));if(this.#s.set(e,s),a){for(const[n,u]of this.#t)n===s?e.skipped_effects.delete(u):e.skipped_effects.add(u);for(const[n,u]of this.#e)n===s?e.skipped_effects.delete(u.effect):e.skipped_effects.add(u.effect);e.oncommit(this.#i),e.ondiscard(this.#n)}else P&&(this.anchor=C),this.#i()}}function Ee(r,s,t=!1){P&&$();var e=new ge(r),a=t?q:0;function i(f,n){if(P){const o=K(r)===Q;if(f===o){var u=J();Z(u),e.anchor=u,D(!1),e.ensure(f,n),D(!0);return}}e.ensure(f,n)}H(()=>{var f=!1;s((n,u=!0)=>{f=!0,i(u,n)}),f||i(!1,null)},a)}function M(r,s){return r===s||r?.[A]===s}function we(r={},s,t,e){return V(()=>{var a,i;return W(()=>{a=i,i=[],B(()=>{r!==t(...i)&&(s(r,...i),a&&M(t(...a),r)&&s(null,...a))})}),()=>{X(()=>{i&&M(t(...i),r)&&s(null,...i)})}}),r}let b=!1,w=Symbol();function Ae(r,s,t){const e=t[s]??={store:null,source:ee(void 0),unsubscribe:N};if(e.store!==r&&!(w in t))if(e.unsubscribe(),e.store=r??null,r==null)e.source.v=void 0,e.unsubscribe=N;else{var a=!0;e.unsubscribe=se(r,i=>{a?e.source.v=i:L(e.source,i)}),a=!1}return r&&w in t?te(r):g(e.source)}function Oe(){const r={};function s(){re(()=>{for(var t in r)r[t].unsubscribe();ae(r,w,{enumerable:!1,value:!0})})}return[r,s]}function Se(r){var s=b;try{return b=!1,[r(),b]}finally{b=s}}const ye={get(r,s){let t=r.props.length;for(;t--;){let e=r.props[t];if(p(e)&&(e=e()),typeof e=="object"&&e!==null&&s in e)return e[s]}},set(r,s,t){let e=r.props.length;for(;e--;){let a=r.props[e];p(a)&&(a=a());const i=E(a,s);if(i&&i.set)return i.set(t),!0}return!1},getOwnPropertyDescriptor(r,s){let t=r.props.length;for(;t--;){let e=r.props[t];if(p(e)&&(e=e()),typeof e=="object"&&e!==null&&s in e){const a=E(e,s);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,s){if(s===A||s===F)return!1;for(let t of r.props)if(p(t)&&(t=t()),t!=null&&s in t)return!0;return!1},ownKeys(r){const s=[];for(let t of r.props)if(p(t)&&(t=t()),!!t){for(const e in t)s.includes(e)||s.push(e);for(const e of Object.getOwnPropertySymbols(t))s.includes(e)||s.push(e)}return s}};function me(...r){return new Proxy({props:r},ye)}function Ie(r,s,t,e){var a=!_e||(t&pe)!==0,i=(t&he)!==0,f=(t&be)!==0,n=e,u=!0,o=()=>(u&&(u=!1,n=f?B(e):e),n),d;if(i){var k=A in r||F in r;d=E(r,s)?.set??(k&&s in r?c=>r[s]=c:void 0)}var h,O=!1;i?[h,O]=Se(()=>r[s]):h=r[s],h===void 0&&e!==void 0&&(h=o(),d&&(a&&ie(),d(h)));var l;if(a?l=()=>{var c=r[s];return c===void 0?o():(u=!0,c)}:l=()=>{var c=r[s];return c!==void 0&&(n=void 0),c===void 0?n:c},a&&(t&ne)===0)return l;if(d){var x=r.$$legacy;return(function(c,v){return arguments.length>0?((!a||!v||x||O)&&d(v?l():c),c):l()})}var S=!1,_=((t&ve)!==0?fe:ue)(()=>(S=!1,l()));i&&g(_);var U=le;return(function(c,v){if(arguments.length>0){const m=v?g(_):a&&i?ce(c):c;return L(_,m),S=!0,n!==void 0&&(n=m),c}return oe&&S||(U.f&de)!==0?_.v:g(_)})}export{ge as B,Oe as a,we as b,me as c,Ee as i,Ie as p,Ae as s};
