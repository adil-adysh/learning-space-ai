import{d as I,e as O,a as _,f as y}from"../chunks/DROdbANY.js";import"../chunks/CcKB5eVq.js";import{h as J,a as L,p as N,ab as S,ac as Q,d as q,ad as w,g as s,ae as E,o as m,q as U,w as K,v as j,s as V,t as W}from"../chunks/DWyuzhdR.js";import{s as A,i as D,a as X,b as Y,c as Z}from"../chunks/BVH0-9pH.js";import{m as f,e as ee,s as te,a as ae,i as oe}from"../chunks/CEZaJwz9.js";import{c as se}from"../chunks/DSwq1fWf.js";function ne(d,i,o,n,u){J&&L();var c=i.$$slots?.[o],r=!1;c===!0&&(c=i.children,r=!0),c===void 0||c(d,r?()=>n:n)}const re=!1,le=!1,be=Object.freeze(Object.defineProperty({__proto__:null,prerender:le,ssr:re},Symbol.toStringTag,{value:"Module"}));var ie=y("<div><!></div>"),ce=y('<button type="button" class="modal-backdrop svelte-6t6cxg" aria-hidden="true"></button> <div class="modal-root svelte-6t6cxg" tabindex="-1" role="dialog" aria-modal="true"></div>',1);function fe(d,i){N(i,!0);const o=()=>A(M,"$_stack",u),n=()=>A(T,"$_lastOpener",u),[u,c]=X();let r=S(null),v=S(Q([]));const M=f,T=f.lastOpener;q(()=>{o().length>0&&w().then(()=>{const e=s(r);if(!e)return;const a='a[href], button:not([disabled]):not([aria-hidden="true"]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])';E(v,Array.from(e.querySelectorAll(a)),!0);const l=e.querySelector(".modal-pane.top");if(l){const t=l.querySelector(a);if(t){t.focus();return}}s(v).length>0?s(v)[0].focus():e.focus()})}),q(()=>{if(o().length===0){const e=n();e&&typeof e.focus=="function"&&w().then(()=>{try{e.focus()}catch{}})}});function z(e){if(e.key==="Escape"){f.close();return}if(e.key==="Tab"){const a=s(v);if(!s(r))return;if(a.length===0){e.preventDefault();return}const l=document.activeElement;let t=a.indexOf(l);e.shiftKey?t=t<=0?a.length-1:t-1:t=t===-1||t>=a.length-1?0:t+1,a[t].focus(),e.preventDefault()}}var k=O(),C=m(k);{var P=e=>{var a=ce(),l=m(a);l.__click=()=>f.close();var t=K(l,2);t.__keydown=z,ee(t,5,o,oe,(h,b,x)=>{var p=ie(),R=V(p);{var B=g=>{var $=O(),F=m($);se(F,()=>s(b).component,(G,H)=>{H(G,Z(()=>s(b).props||{},{$$events:{close:()=>f.close(),back:()=>f.pop()}}))}),_(g,$)};D(R,g=>{s(b).component&&g(B)})}j(p),W(()=>{te(p,1,`modal-pane ${x===o().length-1?"top":"hidden"}`,"svelte-6t6cxg"),ae(p,"aria-hidden",x===o().length-1?"false":"true")}),_(h,p)}),j(t),Y(t,h=>E(r,h),()=>s(r)),_(e,a)};D(C,e=>{o().length>0&&e(P)})}_(d,k),U(),c()}I(["click","keydown"]);var de=y("<!>  <!>",1);function ge(d,i){var o=de(),n=m(o);ne(n,i,"default",{});var u=K(n,2);fe(u,{}),_(d,o)}export{ge as component,be as universal};
